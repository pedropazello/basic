<%= form_for(@user, html: {class: 'form-horizontal'}) do |f| %>
  <div class="field form-group <% if @user.errors.has_key? :first_name %>has-error<% end %>">
    <%= f.label :first_name, class: 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :first_name, class: 'form-control' %>
      <%= error_tag @user, :first_name %>
    </div>
  </div>

  <div class="field form-group <% if @user.errors.has_key? :last_name %>has-error<% end %>">
    <%= f.label :last_name, class: 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :last_name, class: 'form-control' %>
      <%= error_tag @user, :last_name %>
    </div>
  </div>

  <div class="field form-group <% if @user.errors.has_key? :email %>has-error<% end %>">
    <%= f.label :email, class: 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :email, class: 'form-control' %>
      <%= error_tag @user, :email %>
    </div>
  </div>

  <% if current_page?(new_user_path) %>
    <div class="field form-group <% if @user.errors.has_key? :password %>has-error<% end %>">
      <%= f.label :password, class: 'col-sm-2 control-label' %>
      <div class="col-sm-10">
        <%= f.password_field :password, class: 'form-control' %>
        <%= error_tag @user, :password %>
      </div>
    </div>
  <% end %>

  <div class="field form-group <% if @user.errors.has_key? :group_id %>has-error<% end %>">
    <%= f.label :group_id, class: 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.collection_select :group_id, Group.order(:name), :id, :name, {}, {class: "form-control"} %>
      <%= error_tag @user, :group_id %>
    </div>
  </div>

  <div class="actions form-group">
    <div class="col-sm-offset-2 col-sm-12">
      <%= f.submit nil, :class => 'btn btn-default' %>
      <%= link_to t('cancel'), users_path, :class => 'btn btn-danger' %>
    </div>
  </div>

<% end %>
